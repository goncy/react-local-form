!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("react")):"function"==typeof define&&define.amd?define(["react"],r):e["react-local-form"]=r(e.React)}(this,function(o){"use strict";var i="default"in o?o.default:o;function u(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function c(){return(c=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function s(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(e){l(r,e,t[e])})}return r}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,r){return(p=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function v(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)t=u[n],0<=r.indexOf(t)||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)t=u[n],0<=r.indexOf(t)||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function y(e,r){return!r||"object"!=typeof r&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):r}function b(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=[],n=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(t.push(a.value),!r||t.length!==r);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw u}}return t}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var e=i.createContext({}),h=e.Provider,t=e.Consumer,r=function(e){function a(){var e,r,u;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return y(u,(r=u=y(this,(e=f(a)).call.apply(e,[this].concat(n))),u.state={values:{},errors:{}},u.handleSubmit=function(e){var r=u.props.onSubmit,t=u.state,n=t.errors,o=t.values;e.preventDefault(),r({values:o,errors:n})},u.handleSetValues=function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=u.props.rules;u.setState(function(e){var r=e.values,t=e.errors,u=s({},r,o),n=Object.entries(a).reduce(function(e,r){var t=b(r,2),n=t[0],o=t[1];return s({},e,l({},n,o.map(function(e){return e(u[n],u)}).filter(Boolean)))},t);return{values:u,errors:n}})},r))}var r,t,n;return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&p(e,r)}(a,o.Component),r=a,(t=[{key:"componentDidMount",value:function(){var e=this.props.values;this.handleSetValues(e)}},{key:"render",value:function(){var e=this.props,r=e.children,t=e.render,n=v(e,["children","render"]),o=this.state,u=o.values,a=o.errors;return i.createElement(h,{value:{values:u,errors:a,setValues:this.handleSetValues}},i.createElement("form",c({},n,{onSubmit:this.handleSubmit}),t?t({values:u,errors:a,submit:function(){return{values:u,errors:a}},setValues:this.handleSetValues}):r))}}])&&u(r.prototype,t),n&&u(r,n),a}();r.defaultProps={values:{},rules:[]};var n;return{Form:r,FormItem:(n=function(e){var r=e.contextProps,t=r.values,n=r.errors,o=r.setValues,u=e.name,a=e.children;return i.cloneElement(a,s({value:t[u],error:(n[u]||[])[0],errors:n[u]||[],onChange:function(e){o(l({},u,e.target?e.target.value:e)),e.persist()}},a.props))},function(r){return i.createElement(t,null,function(e){return i.createElement(n,c({contextProps:e},r))})})}});
